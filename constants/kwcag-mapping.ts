/**
 * KWCAG 체크리스트(내부 CSV 기반 id: "1"~"33") ↔ WCAG/KWCAG Success Criteria 코드("1.1.1" 등) 매핑 레이어
 *
 * - 내부 지침 데이터(`constants/kwcag-guidelines.ts`)의 `code`는 CSV "고유 번호"(1~33)입니다.
 * - UI/학습자 관점에서는 표준 성공기준 코드(예: 1.1.1, 2.1.1)를 노출하는 것이 더 이해하기 쉽습니다.
 *
 * 주의:
 * - 이 매핑은 “학습 UX 정합성”을 위한 레이어이며, 항목별 정확한 공식 매핑은 조직 기준/가이드에 따라 조정될 수 있습니다.
 * - 현재는 플랫폼에서 실제로 사용하는/자주 등장하는 항목 위주로 우선 매핑합니다.
 */

export type KwcagChecklistId =
  | '1'
  | '2'
  | '3'
  | '4'
  | '5'
  | '6'
  | '7'
  | '8'
  | '9'
  | '10'
  | '11'
  | '12'
  | '13'
  | '14'
  | '15'
  | '16'
  | '17'
  | '18'
  | '19'
  | '20'
  | '21'
  | '22'
  | '23'
  | '24'
  | '25'
  | '26'
  | '27'
  | '28'
  | '29'
  | '30'
  | '31'
  | '32'
  | '33'

export type WcagSuccessCriterionCode = `${number}.${number}.${number}`

/**
 * 내부 체크리스트 id -> 표준 Success Criterion 코드
 * (부분 매핑; 없는 경우 null)
 */
export const KWCAG_ID_TO_WCAG_CODE: Record<KwcagChecklistId, WcagSuccessCriterionCode | null> = {
  // 인식의 용이성(Perceivable)
  '1': '1.1.1', // 적절한 대체 텍스트 제공
  '2': null, // 자막 제공(복수 성공기준 가능)
  '3': '1.3.1', // 표의 구성(정보/관계성 계열로 우선 매핑)
  '4': '1.3.2', // 콘텐츠의 선형구조
  '5': '1.3.3', // 명확한 지시사항 제공(감각적 특성)
  '6': '1.4.1', // 색에 무관한 콘텐츠 인식(색상 사용)
  '7': '1.4.2', // 자동 재생 금지(오디오 제어)
  '8': '1.4.3', // 텍스트 콘텐츠의 명도 대비
  '9': null, // 콘텐츠 간의 구분(비텍스트/구분선 등 복합 가능)

  // 운용의 용이성(Operable)
  '10': '2.1.1', // 키보드 사용 보장
  '11': '2.4.7', // 초점 이동과 표시(포커스 표시로 우선 매핑)
  '12': '2.5.8', // 조작 가능(타깃 크기 계열로 우선 매핑)
  '13': '2.1.4', // 문자 단축키
  '14': '2.2.1', // 응답시간 조절
  '15': '2.2.2', // 정지 기능 제공
  '16': '2.3.1', // 깜빡임과 번쩍임 사용 제한
  '17': '2.4.1', // 반복 영역 건너뛰기(스킵 링크)
  '18': '2.4.2', // 제목 제공
  '19': '2.4.4', // 적절한 링크 텍스트(링크 목적)
  '20': null, // 고정된 참조 위치 정보(전자출판/페이지네이션 계열)

  // 이해의 용이성(Understandable)
  '21': '2.5.1', // 단일 포인터 입력 지원(포인터 제스처)
  '22': '2.5.2', // 포인터 입력 취소
  '23': '2.5.3', // 레이블과 네임
  '24': null, // 동작기반 작동
  '25': '3.1.1', // 기본 언어 표시
  '26': '3.2.1', // 사용자 요구에 따른 실행(포커스 시 맥락 변화)
  '27': '3.2.3', // 찾기 쉬운 도움 정보(일관된 탐색으로 우선)
  '28': '3.3.1', // 오류 정정(오류 식별로 우선)
  '29': '3.3.2', // 레이블 제공
  '30': '3.3.7', // 접근 가능한 인증(최소)
  '31': '3.3.7', // 반복 입력 정보(자동완성/저장 UX; 인증과 다르지만 우선 동일 그룹으로 처리)

  // 견고성(Robust)
  '32': '4.1.1', // 마크업 오류 방지(구문 분석)
  '33': '4.1.2', // 웹 애플리케이션 접근성 준수(이름/역할/값)
}

export function getWcagCodeFromChecklistId(id: string): WcagSuccessCriterionCode | null {
  if ((id as KwcagChecklistId) in KWCAG_ID_TO_WCAG_CODE) {
    return KWCAG_ID_TO_WCAG_CODE[id as KwcagChecklistId]
  }
  return null
}


